<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat치logo de Productos - Pl치sticos La Doble B</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- ENCABEZADO Y NAVEGACI칍N -->
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1>La Doble B</h1>
                    <p class="tagline">Pl치sticos y Desechables</p>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="index.html">Inicio</a></li>
                        <li><a href="productos.html" class="active">Productos</a></li>
                        <li><a href="disenador.html">Dise침ador</a></li>
                        <li><a href="pedidos.html">Mis Pedidos</a></li>
                        <li><a href="login.html">Iniciar Sesi칩n</a></li>
                        <li><a href="registro.html" class="btn-register">Registrarse</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- CONTENIDO PRINCIPAL -->
    <main>
        <section class="about-section">
            <div class="container">
                <h2 class="section-title">Nuestro Cat치logo</h2>
                <p style="text-align: center; max-width: 800px; margin: 0 auto 2rem; color: var(--text-light); font-size: 1.1rem;">
                    Explora nuestra amplia variedad de productos pl치sticos de alta calidad. 
                    Desde bolsas personalizadas hasta empaques industriales.
                </p>

                <!-- FILTROS -->
                <div style="background: white; padding: 1.5rem; border-radius: 10px; box-shadow: var(--shadow-sm); margin-bottom: 2rem;">
                    <div style="display: flex; gap: 1rem; align-items: center; flex-wrap: wrap;">
                        <label style="font-weight: 600; color: var(--primary-color);">Filtrar por:</label>
                        <select id="filterCategory" style="padding: 0.5rem 1rem; border: 2px solid var(--border-color); border-radius: 5px; cursor: pointer;">
                            <option value="todas">Todas las categor칤as</option>
                            <option value="Bolsas">Bolsas</option>
                            <option value="Empaques">Empaques</option>
                            <option value="Desechables">Desechables</option>
                        </select>
                        <input type="text" id="searchProduct" placeholder="Buscar producto..." 
                               style="flex: 1; min-width: 200px; padding: 0.5rem 1rem; border: 2px solid var(--border-color); border-radius: 5px;">
                    </div>
                </div>

                <!-- GRID DE PRODUCTOS -->
                <div class="catalog-grid" id="productosGrid">
                    <!-- Los productos se cargar치n din치micamente aqu칤 -->
                </div>

                <!-- MENSAJE SI NO HAY PRODUCTOS -->
                <div id="noProducts" class="hidden" style="text-align: center; padding: 3rem; background: white; border-radius: 10px;">
                    <p style="font-size: 3rem; margin-bottom: 1rem;">游닍</p>
                    <h3 style="color: var(--text-light);">No se encontraron productos</h3>
                    <p style="color: var(--text-light);">Intenta con otro filtro o b칰squeda</p>
                </div>

                <!-- LLAMADO A LA ACCI칍N -->
                <div style="text-align: center; margin-top: 3rem; padding: 2rem; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); border-radius: 10px; color: white;">
                    <h3 style="margin-bottom: 1rem;">쯅o encontraste lo que buscas?</h3>
                    <p style="margin-bottom: 1.5rem; opacity: 0.9;">
                        Dise침a tu producto personalizado con nuestro dise침ador online
                    </p>
                    <a href="disenador.html" class="btn btn-light">Ir al Dise침ador</a>
                </div>
            </div>
        </section>
    </main>

    <!-- PIE DE P츼GINA -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h4>Pl치sticos y Desechables La Doble B S.A.S</h4>
                    <p>Tu aliado en soluciones de empaque y pl치sticos industriales.</p>
                </div>
                <div class="footer-column">
                    <h4>Enlaces R치pidos</h4>
                    <ul>
                        <li><a href="index.html">Inicio</a></li>
                        <li><a href="productos.html">Productos</a></li>
                        <li><a href="disenador.html">Dise침ador</a></li>
                        <li><a href="admin.html">Administraci칩n</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Contacto</h4>
                    <p>游 Tel칠fono: +57 300 123 4567</p>
                    <p>游닎 Email: ventas@ladobleb.com</p>
                    <p>游늸 La Ceja, Antioquia, Colombia</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Pl치sticos y Desechables La Doble B S.A.S - Todos los derechos reservados</p>
            </div>
        </div>
    </footer>

    <!-- SCRIPTS -->
    <script src="js/script.js"></script>
    <script>
        let todosLosProductos = [];

        // Funci칩n para renderizar productos
        function renderProducts(products) {
            const grid = document.getElementById('productosGrid');
            const noProducts = document.getElementById('noProducts');
            
            if (products.length === 0) {
                grid.style.display = 'none';
                noProducts.classList.remove('hidden');
                return;
            }
            
            grid.style.display = 'grid';
            noProducts.classList.add('hidden');
            
            grid.innerHTML = products.map(product => `
                <div class="catalog-item" data-category="${product.categoria}">
                    <div class="catalog-item-image">
                        ${product.imagen}
                    </div>
                    <div class="catalog-item-info">
                        <h3>${product.nombre}</h3>
                        <p><strong>Categor칤a:</strong> ${product.categoria}</p>
                        <p>${product.descripcion}</p>
                        <p><strong>Medida:</strong> ${product.medida}</p>
                        <p class="catalog-item-price">${product.precio}</p>
                        <button onclick="contactarProducto('${product.nombre}')" 
                                class="btn btn-primary" style="width: 100%; margin-top: 0.5rem;">
                            Solicitar Cotizaci칩n
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Funci칩n para contactar sobre un producto
        function contactarProducto(nombreProducto) {
            const user = getCurrentUser();
            if (!user) {
                if (confirm('Debes iniciar sesi칩n para solicitar cotizaciones. 쮻eseas ir al login?')) {
                    window.location.href = 'login.html';
                }
                return;
            }
            
            // Redirigir a pedidos con el producto seleccionado
            localStorage.setItem('productoSeleccionado', nombreProducto);
            window.location.href = 'pedidos.html';
        }

        // Funci칩n para filtrar productos
        function filtrarProductos() {
            const categoria = document.getElementById('filterCategory').value;
            const busqueda = document.getElementById('searchProduct').value.toLowerCase();
            
            let productosFiltrados = todosLosProductos;
            
            // Filtrar por categor칤a
            if (categoria !== 'todas') {
                productosFiltrados = productosFiltrados.filter(p => p.categoria === categoria);
            }
            
            // Filtrar por b칰squeda
            if (busqueda) {
                productosFiltrados = productosFiltrados.filter(p => 
                    p.nombre.toLowerCase().includes(busqueda) ||
                    p.descripcion.toLowerCase().includes(busqueda) ||
                    p.categoria.toLowerCase().includes(busqueda)
                );
            }
            
            renderProducts(productosFiltrados);
        }

        // Cargar productos al iniciar
        window.addEventListener('DOMContentLoaded', function() {
            todosLosProductos = getProducts();
            renderProducts(todosLosProductos);
            
            // Event listeners para filtros
            document.getElementById('filterCategory').addEventListener('change', filtrarProductos);
            document.getElementById('searchProduct').addEventListener('input', filtrarProductos);
        });
    </script>
</body>
</html>